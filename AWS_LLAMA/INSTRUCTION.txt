
DEPLOYMENT INSTRUCTIONS FOR ONCOLIFE (AWS ENTERPRISE EDITION)
=============================================================

ARCHITECTURE: OPTION 3 (Server-Side Logic + DynamoDB Persistence)
-----------------------------------------------------------------
This version implements a "Neuro-Symbolic" architecture:
1. React Frontend: Dumb UI (Displays questions, sends answers).
2. AWS Lambda: The Brain (Holds the Medical Protocols & Logic).
3. AWS Bedrock (Llama 3): The Translator (Classifies user text into strict options).
4. DynamoDB: The Memory (Stores session state).

----------------------------------------------------
PART 1: INFRASTRUCTURE SETUP
----------------------------------------------------

1. **DYNAMODB TABLE**
   - Go to AWS Console -> DynamoDB -> Create Table.
   - Table Name: `OncoLifeSessions`
   - Partition Key: `session_id` (String)
   - Sort Key: (Leave empty)
   - Settings: Default settings are fine (On-demand capacity recommended).

2. **AWS BEDROCK**
   - Go to Bedrock Console -> Model access.
   - Ensure "Llama 3 70B Instruct" is enabled.

----------------------------------------------------
PART 2: DEPLOYING THE BACKEND (LAMBDA)
----------------------------------------------------
1. Go to the 'backend' folder.
2. Rename 'lambda_function.txt' to 'lambda_function.py'.
3. Create a deployment zip:
   - Create a folder named 'package'.
   - Run: `pip install --target ./package boto3`
   - Copy 'lambda_function.py' into 'package'.
   - Zip the contents of 'package'.
4. Create Lambda Function:
   - Runtime: Python 3.9+
   - Upload Zip.
5. **PERMISSIONS (Crucial)**
   - Go to Configuration -> Permissions -> Execution Role.
   - Add permissions for:
     a. `bedrock:InvokeModel`
     b. `dynamodb:GetItem`, `dynamodb:PutItem`, `dynamodb:UpdateItem`
6. **ENVIRONMENT VARIABLES**
   - Go to Configuration -> Environment variables.
   - Add: `TABLE_NAME` = `OncoLifeSessions`
7. Create Function URL (Auth: NONE for testing) and COPY IT.

----------------------------------------------------
PART 3: DEPLOYING THE FRONTEND
----------------------------------------------------
1. Go to 'frontend' folder.
2. Create '.env' file:
   `VITE_AWS_API_URL=https://<YOUR_LAMBDA_URL>`
3. Run `npm install` and `npm run build`.
4. Deploy the `dist` folder to AWS Amplify or S3.
